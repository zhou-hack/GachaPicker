import{S as ge,i as _e,s as ve,a as j,e as ne,c as H,b as Y,f as G,g as we,t as $,d as ye,h as d,E as J,F as He,o as Ke,k as f,q as Q,l as m,m as y,r as X,n as r,p as x,G as c,H as ie,A as be,C as Re,I as Ue,u as ze,J as ke,K as Fe,L as Ee,v as Ie,M as qe,w as Le,N as oe,x as Se,O as Je,y as Ae,P as De,Q as Ge,R as Ye,T as Qe,U as Xe,V as Ze}from"../../chunks/index-c0d078cd.js";import{_ as xe}from"../../chunks/preload-helper-176e53da.js";import{D as $e,k as et}from"../../chunks/runtime.esm-4bf604c8.js";import{p as tt}from"../../chunks/stores-b6972762.js";import{i as pe,m as re,a as at,b as Pe,v as Te,c as Me}from"../../chunks/app-stores-fa402321.js";import{g as ot,d as st,a as rt}from"../../chunks/outfit-35b977b8.js";import{H as je,B as nt,l as Be,b as it,i as lt,s as ct}from"../../chunks/custom-banner-3f8b591c.js";import{c as Oe}from"../../chunks/api-cookie-d587b0da.js";import{o as dt,l as ut,r as ft,g as mt,a as pt,s as ce,b as ae,f as le}from"../../chunks/index-123e2351.js";import{c as ht,s as gt,a as _t}from"../../chunks/sync-a90ed1b8.js";import{H as ee,D as de,K as vt,A as ue}from"../../chunks/env-f184adc0.js";import{m as wt,a as yt}from"../../chunks/i18n-9633f3c0.js";/* empty css                                                       */function bt(o={}){const{immediate:t=!1,onNeedRefresh:e,onOfflineReady:s,onRegistered:a,onRegisteredSW:n,onRegisterError:l}=o;let u,v,S,b;const M=async(A=!0)=>{await S,A&&u?.addEventListener("controlling",g=>{g.isUpdate&&window.location.reload()}),await b?.()};async function C(){if("serviceWorker"in navigator){const{Workbox:A,messageSW:g}=await xe(()=>import("../../chunks/workbox-window.prod.es5-9f0a6626.js"),[],import.meta.url);b=async()=>{v&&v.waiting&&await g(v.waiting,{type:"SKIP_WAITING"})},u=new A("./sw.js",{scope:"./",type:"classic"}),u.addEventListener("activated",_=>{_.isUpdate||s?.()});{const _=()=>{e?.()};u.addEventListener("waiting",_),u.addEventListener("externalwaiting",_)}u.register({immediate:t}).then(_=>{v=_,n?n("./sw.js",_):a?.(_)}).catch(_=>{l?.(_)})}}return S=C(),M}const{getListByBanner:se}=je,kt=async()=>{const o=await se("beginner"),t=await se("character-event"),e=await se("weapon-event"),s=await se("standard"),a=[...o,...t,...e,...s];a.length<1||a.map(({itemID:n})=>dt.put({itemID:n}))},Et=()=>{const o={"pity4-character-event":"events4sPity","pity5-character-event":"events5sPity","pity4-weapon-event":"weapons4sPity","pity5-weapon-event":"weapons5sPity","pity4-beginner":"beginner4sPity","pity5-beginner":"beginner5sPity","pity4-standard":"standard4sPity","pity5-standard":"standard5sPity"};Object.keys(o).forEach(t=>{const e=localStorage.getItem(o[t]);localStorage.removeItem(o[t]),e&&ut.set(t,parseInt(e))})},It=()=>{const o=localStorage.getItem("beginnerRoll");localStorage.removeItem("beginnerRoll"),o&&ft.set("beginner",parseInt(o))},Lt=()=>{const o={beginner:"beginner",events4Star:"character-event-4star",events:"character-event-5star",weapons4Star:"weapon-event-4star",weapons:"weapon-event-5star"},t=localStorage.getItem("guaranteedStatus");if(!t)return;localStorage.removeItem("guaranteedStatus");const{status:e}=JSON.parse(t);Object.keys(e).forEach(s=>{const a=e[s];mt.set(o[s],a)})},St=()=>{["primogem","genesis","intertwined","acquaint","starglitter","stardust"].forEach(t=>{const e=localStorage.getItem(t);localStorage.removeItem(t),e&&pt.set(t,parseInt(e))})},At=()=>{const o=localStorage.getItem("fatepoint");if(localStorage.removeItem("fatepoint"),!o)return;const{data:t}=JSON.parse(o),e=t.map(({patch:s,phase:a,selected:n,point:l})=>({version:s,phase:a,selected:n,point:l}));ce.set("fatepoint",e)},Dt=()=>{const o=localStorage.getItem("welkin");if(localStorage.removeItem("welkin"),!o)return;const{latestCheckIn:t,remaining:e}=JSON.parse(o),s={latestCheckIn:t,remaining:e};ce.set("welkin",s)},Pt=()=>{const o=localStorage.getItem("outfits");if(localStorage.removeItem("outfits"),!o)return;const{outfits:t}=JSON.parse(o),e=t.map(({isSet:s,name:a})=>{const{name:n}=ot(a);return{isSet:s,name:a,characterName:n}});ce.set("ownedOutfits",e)},Tt=()=>{const o=localStorage.getItem("config");if(localStorage.removeItem("config"),!o)return;const{config:t}=JSON.parse(o),e={adKey:"adKey",wishAmount:"wishAmount",topupBonus:"topupBonus",animatedBG:"animatedBG"};Object.keys(e).forEach(s=>{const a=t[s];a!=null&&ae.set(e[s],a)})},Mt=()=>{const o=localStorage.getItem("firstshare");localStorage.removeItem("firstshare"),o&&ae.set("firstTimeShare",o==="yes")},Bt=async()=>(localStorage.removeItem("storageVersion"),localStorage.removeItem("version"),Et(),It(),St(),Lt(),At(),Dt(),Pt(),Tt(),Mt(),await kt()),{addHistory:Ot,getAllHistories:Nt}=je,{getAll:Vt,put:Wt}=nt,Ct=async()=>{const o=ae.get("idbVer");if(o<3){const t=Oe.get("adKey");t&&Oe.set("accessKey",t),await ht();const e={};st.forEach(({itemID:a,name:n})=>e[n]=a),rt.forEach(({itemID:a,name:n})=>e[n]=a);const s=await Nt();for(let a=0;a<s.length;a++){const n=s[a];n.itemID=e[n.name],await Ot(n),!(a<s.length-1)&&(await Bt(),ae.set("idbVer",3))}}if(o<4){const t=await Vt();for(let e=0;e<t.length;e++){const s=t[e];!s.id||(s.shareID=s.id,delete s.id,await Wt(s))}ae.set("idbVer",4),console.log("IDB Updated")}};let fe;const me=async({release:o=!1}={})=>{try{if(!o){fe=await navigator.wakeLock.request("screen");return}await fe.release(),fe=null}catch{}},Kt=()=>{"wakeLock"in navigator&&(me(),window.addEventListener("focus",()=>me()),window.addEventListener("blur",()=>me({release:!0})))};class Rt extends ge{constructor(t){super(),_e(this,t,null,null,ve,{})}}function Ne(o){let t,e,s,a,n,l,u,v,S,b,M,C,A,g,_,O,D,k,E,B,R;return{c(){t=f("div"),e=f("div"),s=f("div"),a=Q(`An error occurred while trying to load some assets, this may affect your wish experience.
				`),n=f("br"),l=j(),u=f("small"),v=f("small"),S=Q(`If you think this is a mistake, please contact me on
						`),b=f("a"),M=Q(`Discord
						`),C=Q("!"),A=j(),g=f("div"),_=f("button"),O=Q("Reload"),D=j(),k=f("button"),E=Q("Open Anyway"),this.h()},l(P){t=m(P,"DIV",{class:!0});var N=y(t);e=m(N,"DIV",{class:!0});var I=y(e);s=m(I,"DIV",{class:!0});var i=y(s);a=X(i,`An error occurred while trying to load some assets, this may affect your wish experience.
				`),n=m(i,"BR",{}),l=H(i),u=m(i,"SMALL",{});var V=y(u);v=m(V,"SMALL",{});var U=y(v);S=X(U,`If you think this is a mistake, please contact me on
						`),b=m(U,"A",{href:!0,style:!0});var q=y(b);M=X(q,`Discord
						`),q.forEach(d),C=X(U,"!"),U.forEach(d),V.forEach(d),i.forEach(d),A=H(I),g=m(I,"DIV",{class:!0});var F=y(g);_=m(F,"BUTTON",{class:!0});var K=y(_);O=X(K,"Reload"),K.forEach(d),D=H(F),k=m(F,"BUTTON",{class:!0});var Z=y(k);E=X(Z,"Open Anyway"),Z.forEach(d),F.forEach(d),I.forEach(d),N.forEach(d),this.h()},h(){r(b,"href","https://discord.com/users/523179264116523018"),x(b,"color","#7289da"),r(s,"class","msg"),r(_,"class","reload svelte-o4a6oh"),r(k,"class","open svelte-o4a6oh"),r(g,"class","btn svelte-o4a6oh"),r(e,"class","modal-content svelte-o4a6oh"),r(t,"class","modal svelte-o4a6oh")},m(P,N){Y(P,t,N),c(t,e),c(e,s),c(s,a),c(s,n),c(s,l),c(s,u),c(u,v),c(v,S),c(v,b),c(b,M),c(v,C),c(e,A),c(e,g),c(g,_),c(_,O),c(g,D),c(g,k),c(k,E),B||(R=[ie(_,"click",o[8]),ie(k,"click",o[7])],B=!0)},p:be,d(P){P&&d(t),B=!1,Re(R)}}}function Ve(o){let t,e,s,a,n,l,u,v,S,b,M,C,A,g,_,O,D,k,E,B,R,P,N,I,i,V,U,q;const F=[Ht,jt],K=[];function Z(L,w){return L[4]<0?0:1}I=Z(o),i=K[I]=F[I](o);let z=o[5]&&!o[6]&&We();return{c(){t=f("div"),e=f("div"),s=f("div"),a=f("div"),n=f("i"),l=j(),u=f("i"),v=j(),S=f("i"),b=j(),M=f("i"),C=j(),A=f("i"),g=j(),_=f("i"),O=j(),D=f("i"),k=j(),E=f("div"),B=f("div"),R=j(),P=f("div"),N=j(),i.c(),V=j(),z&&z.c(),this.h()},l(L){t=m(L,"DIV",{class:!0});var w=y(t);e=m(w,"DIV",{class:!0});var p=y(e);s=m(p,"DIV",{class:!0});var h=y(s);a=m(h,"DIV",{class:!0});var T=y(a);n=m(T,"I",{class:!0}),y(n).forEach(d),l=H(T),u=m(T,"I",{class:!0}),y(u).forEach(d),v=H(T),S=m(T,"I",{class:!0}),y(S).forEach(d),b=H(T),M=m(T,"I",{class:!0}),y(M).forEach(d),C=H(T),A=m(T,"I",{class:!0}),y(A).forEach(d),g=H(T),_=m(T,"I",{class:!0}),y(_).forEach(d),O=H(T),D=m(T,"I",{class:!0}),y(D).forEach(d),T.forEach(d),k=H(h),E=m(h,"DIV",{class:!0});var te=y(E);B=m(te,"DIV",{class:!0}),y(B).forEach(d),R=H(te),P=m(te,"DIV",{class:!0,style:!0}),y(P).forEach(d),te.forEach(d),h.forEach(d),N=H(p),i.l(p),V=H(p),z&&z.l(p),p.forEach(d),w.forEach(d),this.h()},h(){r(n,"class","gi-pyro"),r(u,"class","gi-hydro"),r(S,"class","gi-anemo"),r(M,"class","gi-electro"),r(A,"class","gi-dendro"),r(_,"class","gi-cryo"),r(D,"class","gi-geo"),r(a,"class","icon"),r(B,"class","unfilled svelte-o4a6oh"),r(P,"class","filled animate svelte-o4a6oh"),x(P,"width",o[4].toFixed(2)+"%"),r(E,"class","blend svelte-o4a6oh"),r(s,"class","progress svelte-o4a6oh"),r(e,"class","content svelte-o4a6oh"),r(t,"class","loader svelte-o4a6oh")},m(L,w){Y(L,t,w),c(t,e),c(e,s),c(s,a),c(a,n),c(a,l),c(a,u),c(a,v),c(a,S),c(a,b),c(a,M),c(a,C),c(a,A),c(a,g),c(a,_),c(a,O),c(a,D),c(s,k),c(s,E),c(E,B),c(E,R),c(E,P),c(e,N),K[I].m(e,null),c(e,V),z&&z.m(e,null),q=!0},p(L,w){(!q||w&16)&&x(P,"width",L[4].toFixed(2)+"%");let p=I;I=Z(L),I===p?K[I].p(L,w):(we(),$(K[p],1,1,()=>{K[p]=null}),ye(),i=K[I],i?i.p(L,w):(i=K[I]=F[I](L),i.c()),G(i,1),i.m(e,V)),L[5]&&!L[6]?z||(z=We(),z.c(),z.m(e,null)):z&&(z.d(1),z=null)},i(L){q||(G(i),U&&U.end(1),q=!0)},o(L){$(i),U=Ue(t,le,{duration:500,delay:1e3}),q=!1},d(L){L&&d(t),K[I].d(),z&&z.d(),L&&U&&U.end()}}}function jt(o){let t,e=(o[4]>99?100:o[4].toFixed())+"",s,a,n;return{c(){t=f("div"),s=Q(e),a=Q("%"),this.h()},l(l){t=m(l,"DIV",{class:!0});var u=y(t);s=X(u,e),a=X(u,"%"),u.forEach(d),this.h()},h(){r(t,"class","text svelte-o4a6oh")},m(l,u){Y(l,t,u),c(t,s),c(t,a)},p(l,u){u&16&&e!==(e=(l[4]>99?100:l[4].toFixed())+"")&&ze(s,e)},i(l){n||ke(()=>{n=Fe(t,le,{}),n.start()})},o:be,d(l){l&&d(t)}}}function Ht(o){let t,e,s,a;return{c(){t=f("div"),e=Q("Connecting"),this.h()},l(n){t=m(n,"DIV",{class:!0});var l=y(t);e=X(l,"Connecting"),l.forEach(d),this.h()},h(){r(t,"class","text connecting svelte-o4a6oh")},m(n,l){Y(n,t,l),c(t,e),a=!0},p:be,i(n){a||(ke(()=>{s||(s=Ee(t,le,{},!0)),s.run(1)}),a=!0)},o(n){s||(s=Ee(t,le,{},!1)),s.run(0),a=!1},d(n){n&&d(t),n&&s&&s.end()}}}function We(o){let t,e,s,a,n;return{c(){t=f("div"),e=f("i"),s=j(),a=f("span"),n=Q("Rotate for better experience"),this.h()},l(l){t=m(l,"DIV",{class:!0});var u=y(t);e=m(u,"I",{class:!0}),y(e).forEach(d),s=H(u),a=m(u,"SPAN",{class:!0});var v=y(a);n=X(v,"Rotate for better experience"),v.forEach(d),u.forEach(d),this.h()},h(){r(e,"class","gi-rotate-phone svelte-o4a6oh"),r(a,"class","svelte-o4a6oh"),r(t,"class","rotate svelte-o4a6oh")},m(l,u){Y(l,t,u),c(t,e),c(t,s),c(t,a),c(a,n)},d(l){l&&d(t)}}}function Ut(o){let t,e,s,a=o[2]&&!o[3]&&Ne(o),n=!((o[0]||o[1])&&o[3]&&o[4]>=100)&&Ve(o);return{c(){a&&a.c(),t=j(),n&&n.c(),e=ne()},l(l){a&&a.l(l),t=H(l),n&&n.l(l),e=ne()},m(l,u){a&&a.m(l,u),Y(l,t,u),n&&n.m(l,u),Y(l,e,u),s=!0},p(l,[u]){l[2]&&!l[3]?a?a.p(l,u):(a=Ne(l),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),(l[0]||l[1])&&l[3]&&l[4]>=100?n&&(we(),$(n,1,1,()=>{n=null}),ye()):n?(n.p(l,u),u&27&&G(n,1)):(n=Ve(l),n.c(),G(n,1),n.m(e.parentNode,e))},i(l){s||(G(n),s=!0)},o(l){$(n),s=!1},d(l){a&&a.d(l),l&&d(t),n&&n.d(l),l&&d(e)}}}function zt(o,t,e){let s,a;J(o,pe,g=>e(5,s=g)),J(o,re,g=>e(6,a=g));let{isBannerLoaded:n=!1}=t,{directLoad:l=!1}=t,u=!1,v=!1,S=-1;const b=He("loaded"),M=()=>{b(),e(3,v=!0)},C=async g=>{const _=g==="preview",O=[];let D=0;const k=_?Be("preview"):Be();for await(const R of k){D++;const{path:P,asset:N}=R,I=await it(P);I==="error"&&e(2,u=!0),O.push({url:I,name:N}),e(4,S=D/k.length*100)}const E=await Promise.all(O),B=await lt();at.update(R=>(R={},E.forEach(({url:P,name:N})=>R[N]=P),{...R,...B})),u===!1&&M()};Ke(()=>{C(l?"preview":"")});const A=()=>window.location.reload();return o.$$set=g=>{"isBannerLoaded"in g&&e(0,n=g.isBannerLoaded),"directLoad"in g&&e(1,l=g.directLoad)},[n,l,u,v,S,s,a,M,A]}class Ft extends ge{constructor(t){super(),_e(this,t,zt,Ut,ve,{isBannerLoaded:0,directLoad:1})}}const{document:W,window:he}=Ge;function qt(o){let t;return{c(){t=f("link"),this.h()},l(e){t=m(e,"LINK",{rel:!0,href:!0}),this.h()},h(){r(t,"rel","manifest"),r(t,"href","/appmanifest.json")},m(e,s){Y(e,t,s)},d(e){e&&d(t)}}}function Ce(o){let t;const e=o[13].default,s=Ye(e,o,o[12],null);return{c(){s&&s.c()},l(a){s&&s.l(a)},m(a,n){s&&s.m(a,n),t=!0},p(a,n){s&&s.p&&(!t||n&4096)&&Qe(s,e,a,a[12],t?Ze(e,a[12],n,null):Xe(a[12]),null)},i(a){t||(G(s,a),t=!0)},o(a){$(s,a),t=!1},d(a){s&&s.d(a)}}}function Jt(o){let t,e,s,a,n,l,u,v,S,b,M,C,A,g,_,O,D,k,E,B,R,P,N,I,i,V,U,q,F,K,Z,z;ke(o[14]);let L=qt();N=new Ft({props:{isBannerLoaded:o[3],directLoad:o[6]}}),V=new Rt({});let w=!o[11]&&o[4]&&Ce(o);return{c(){t=f("meta"),e=f("meta"),s=f("meta"),a=f("link"),n=f("meta"),l=f("meta"),u=f("meta"),v=f("meta"),S=f("meta"),b=f("meta"),M=f("meta"),C=f("meta"),A=f("meta"),g=f("meta"),_=f("meta"),O=f("link"),D=f("link"),k=f("link"),E=f("link"),B=f("link"),L&&L.c(),R=ne(),P=j(),Ie(N.$$.fragment),I=j(),i=f("main"),Ie(V.$$.fragment),U=j(),w&&w.c(),q=j(),F=f("a"),this.h()},l(p){const h=qe('[data-svelte="svelte-uo0i7a"]',W.head);t=m(h,"META",{name:!0,content:!0}),e=m(h,"META",{name:!0,content:!0}),s=m(h,"META",{property:!0,content:!0}),a=m(h,"LINK",{rel:!0,href:!0,title:!0}),n=m(h,"META",{property:!0,content:!0}),l=m(h,"META",{property:!0,content:!0}),u=m(h,"META",{property:!0,content:!0}),v=m(h,"META",{property:!0,content:!0}),S=m(h,"META",{property:!0,content:!0}),b=m(h,"META",{name:!0,content:!0}),M=m(h,"META",{property:!0,content:!0}),C=m(h,"META",{property:!0,content:!0}),A=m(h,"META",{name:!0,content:!0}),g=m(h,"META",{name:!0,content:!0}),_=m(h,"META",{name:!0,content:!0}),O=m(h,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),D=m(h,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),k=m(h,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),E=m(h,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),B=m(h,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),L&&L.l(h),R=ne(),h.forEach(d),P=H(p),Le(N.$$.fragment,p),I=H(p),i=m(p,"MAIN",{class:!0,style:!0});var T=y(i);Le(V.$$.fragment,T),U=H(T),w&&w.l(T),q=H(T),F=m(T,"A",{href:!0,class:!0,title:!0});var te=y(F);te.forEach(d),T.forEach(d),this.h()},h(){r(t,"name","description"),r(t,"content",de),r(e,"name","keywords"),r(e,"content",vt),r(s,"property","al:web:url"),r(s,"content",ee),r(a,"rel","fluid-icon"),r(a,"href",ee+"/meta-picture.jpg"),r(a,"title",ue),r(n,"property","og:url"),r(n,"content",ee),r(l,"property","og:type"),r(l,"content","website"),r(u,"property","og:title"),r(u,"content",ue),r(v,"property","og:description"),r(v,"content",de),r(S,"property","og:image"),r(S,"content",ee+"/meta-picture.jpg"),r(b,"name","twitter:card"),r(b,"content","summary_large_image"),r(M,"property","twitter:domain"),r(M,"content",ee.replace("https://","").replace("http://","")),r(C,"property","twitter:url"),r(C,"content",ee),r(A,"name","twitter:title"),r(A,"content",ue),r(g,"name","twitter:description"),r(g,"content",de),r(_,"name","twitter:image"),r(_,"content",ee+"/meta-picture.jpg"),r(O,"rel","preload"),r(O,"href","/fonts/aaqishu.woff"),r(O,"as","font"),r(O,"type","font/woff"),r(O,"crossorigin",""),r(D,"rel","preload"),r(D,"href","/fonts/optimized_global_web.woff2"),r(D,"as","font"),r(D,"type","font/woff2"),r(D,"crossorigin",""),r(k,"rel","preload"),r(k,"href","/fonts/optimized_th_web.woff2"),r(k,"as","font"),r(k,"type","font/woff2"),r(k,"crossorigin",""),r(E,"rel","preload"),r(E,"href","/fonts/optimized_jp_web.woff2"),r(E,"as","font"),r(E,"type","font/woff2"),r(E,"crossorigin",""),r(B,"rel","preload"),r(B,"href","/fonts/optimized_zh_web.woff2"),r(B,"as","font"),r(B,"type","font/woff2"),r(B,"crossorigin",""),r(F,"href","/"),r(F,"class","uid"),r(F,"title","Try Your Luck by this Simulator"),r(i,"class",o[2]),x(i,"--screen-height",o[9]?`${o[9]}px`:"100vh"),x(i,"--screen-width",o[10]+"px"),x(i,"--genshin-font","var(--gi-"+o[5]+"-font)"),oe(i,"mobile",o[8]),oe(i,"preview",o[7])},m(p,h){c(W.head,t),c(W.head,e),c(W.head,s),c(W.head,a),c(W.head,n),c(W.head,l),c(W.head,u),c(W.head,v),c(W.head,S),c(W.head,b),c(W.head,M),c(W.head,C),c(W.head,A),c(W.head,g),c(W.head,_),c(W.head,O),c(W.head,D),c(W.head,k),c(W.head,E),c(W.head,B),L&&L.m(W.head,null),c(W.head,R),Y(p,P,h),Se(N,p,h),Y(p,I,h),Y(p,i,h),Se(V,i,null),c(i,U),w&&w.m(i,null),c(i,q),c(i,F),K=!0,Z||(z=[ie(he,"resize",o[14]),ie(F,"click",Je(o[15]))],Z=!0)},p(p,[h]){const T={};h&8&&(T.isBannerLoaded=p[3]),h&64&&(T.directLoad=p[6]),N.$set(T),!p[11]&&p[4]?w?(w.p(p,h),h&2064&&G(w,1)):(w=Ce(p),w.c(),G(w,1),w.m(i,q)):w&&(we(),$(w,1,1,()=>{w=null}),ye()),(!K||h&4)&&r(i,"class",p[2]),(!K||h&512)&&x(i,"--screen-height",p[9]?`${p[9]}px`:"100vh"),(!K||h&1024)&&x(i,"--screen-width",p[10]+"px"),(!K||h&32)&&x(i,"--genshin-font","var(--gi-"+p[5]+"-font)"),h&260&&oe(i,"mobile",p[8]),h&132&&oe(i,"preview",p[7])},i(p){K||(G(N.$$.fragment,p),G(V.$$.fragment,p),G(w),K=!0)},o(p){$(N.$$.fragment,p),$(V.$$.fragment,p),$(w),K=!1},d(p){d(t),d(e),d(s),d(a),d(n),d(l),d(u),d(v),d(S),d(b),d(M),d(C),d(A),d(g),d(_),d(O),d(D),d(k),d(E),d(B),L&&L.d(p),d(R),p&&d(P),Ae(N,p),p&&d(I),p&&d(i),Ae(V),w&&w.d(),Z=!1,Re(z)}}}function Gt(o,t,e){let s,a,n,l,u,v,S,b,M;J(o,_t,i=>e(16,s=i)),J(o,pe,i=>e(17,a=i)),J(o,Pe,i=>e(18,n=i)),J(o,tt,i=>e(19,l=i)),J(o,$e,i=>e(2,u=i)),J(o,re,i=>e(8,v=i)),J(o,Me,i=>e(9,S=i)),J(o,Te,i=>e(10,b=i)),J(o,et,i=>e(11,M=i));let{$$slots:C={},$$scope:A}=t,g,_,O=!1,D=!1;De("bannerLoaded",()=>e(3,O=!0)),De("loaded",()=>e(4,D=!0));let k="",E=!1,B=!1;const R=()=>{const i=l.url.pathname.split("/");e(6,E=!!i[1]),e(7,B=i[1]==="screen");const U=["adkey","bnlist","install","privacy-policy","screen"].includes(i[1].toLowerCase());return i[1]&&!U},P=()=>{if(n)return re.set(!0);const i=screen.orientation?.angle||0,V=i===90||i===270;re.set(V)};wt(),Ke(async()=>{if(R())return window.location.replace("/");const i=new URL(window.location.href),V=new URLSearchParams(i.search);Pe.set(V.get("pwa")==="true"||!!V.get("pwasc")),pe.set(yt()||_<601),a&&P(),window.addEventListener("orientationchange",()=>{a&&P()}),ce.initEvent(),bt(),Kt(),await Ct(),ct(),document.addEventListener("storageUpdate",()=>gt(s)),document.addEventListener("contextmenu",U=>U.preventDefault())});function N(){e(0,g=he.innerHeight),e(1,_=he.innerWidth)}const I=()=>window.location.replace("/");return o.$$set=i=>{"$$scope"in i&&e(12,A=i.$$scope)},o.$$.update=()=>{if(o.$$.dirty&4){const i=u?.toLowerCase()||"",V=i.match(/(cn|ja)/);e(5,k=V||i.includes("th")?i.split("-")[0]:"global")}o.$$.dirty&2&&Te.set(_),o.$$.dirty&1&&Me.set(g)},[g,_,u,O,D,k,E,B,v,S,b,M,A,C,N,I]}class ia extends ge{constructor(t){super(),_e(this,t,Gt,Jt,ve,{})}}export{ia as default};
